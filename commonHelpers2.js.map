{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector(\".feedback-form\");\nconst messageForm = feedbackForm.elements.message;\nconst emailForm = feedbackForm.elements.email;\n\nconst localStorageKey = \"feedback-form-state\";\n\nlet email = \"\";\nlet message = \"\";\n\nif (localStorage.getItem(localStorageKey) !== null) {\n    emailForm.value = JSON.parse(localStorage.getItem(localStorageKey)).email;\n    email = emailForm.value;\n    messageForm.value = JSON.parse(localStorage.getItem(localStorageKey)).message;\n    message = messageForm.value;\n}\n\nfeedbackForm.addEventListener(\"input\", event => {\n    event.stopPropagation();\n    \n    if (event.target.nodeName === \"TEXTAREA\") {\n        message = event.target.value.trim();\n    } else {\n        email = event.target.value.trim();\n    }\n    localStorage.setItem(localStorageKey,JSON.stringify({email, message,}));\n    email = JSON.parse(localStorage.getItem(localStorageKey)).email;\n    message = JSON.parse(localStorage.getItem(localStorageKey)).message;\n});\n\nfeedbackForm.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    event.stopPropagation();\n    const form = event.target;\n    \n    if (email === \"\" || message === \"\") {\n        alert('All form fields must be filled in');\n    } else{\n        console.log({email, message});\n        feedbackForm.reset();\n        localStorage.removeItem(localStorageKey);\n    };\n});\n"],"names":["feedbackForm","messageForm","emailForm","localStorageKey","email","message","event"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAcD,EAAa,SAAS,QACpCE,EAAYF,EAAa,SAAS,MAElCG,EAAkB,sBAExB,IAAIC,EAAQ,GACRC,EAAU,GAEV,aAAa,QAAQF,CAAe,IAAM,OAC1CD,EAAU,MAAQ,KAAK,MAAM,aAAa,QAAQC,CAAe,CAAC,EAAE,MACpEC,EAAQF,EAAU,MAClBD,EAAY,MAAQ,KAAK,MAAM,aAAa,QAAQE,CAAe,CAAC,EAAE,QACtEE,EAAUJ,EAAY,OAG1BD,EAAa,iBAAiB,QAASM,GAAS,CAC5CA,EAAM,gBAAe,EAEjBA,EAAM,OAAO,WAAa,WAC1BD,EAAUC,EAAM,OAAO,MAAM,KAAI,EAEjCF,EAAQE,EAAM,OAAO,MAAM,KAAI,EAEnC,aAAa,QAAQH,EAAgB,KAAK,UAAU,CAAC,MAAAC,EAAO,QAAAC,CAAS,CAAA,CAAC,EACtED,EAAQ,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,EAAE,MAC1DE,EAAU,KAAK,MAAM,aAAa,QAAQF,CAAe,CAAC,EAAE,OAChE,CAAC,EAEDH,EAAa,iBAAiB,SAAUM,GAAS,CAC7CA,EAAM,eAAc,EACpBA,EAAM,gBAAe,EACRA,EAAM,OAEfF,IAAU,IAAMC,IAAY,GAC5B,MAAM,mCAAmC,GAEzC,QAAQ,IAAI,CAAC,MAAAD,EAAO,QAAAC,CAAO,CAAC,EAC5BL,EAAa,MAAK,EAClB,aAAa,WAAWG,CAAe,EAE/C,CAAC"}